# java第四次课程作业
摘要
1. 增加了通过反射机制读取类的注解信息；
2. 增加了通过读取配置文件获得图片路径；
3. 对葫芦世界的生物进行更细粒度的划分；
4. 增加工具类进一步降低类之间的耦合度；
5. 增加了泛型机制提高了代码的重用率；
## 一、代码结构
* 生物类(`/creature`)

`Creature`（生物）类是`Huluwa`（葫芦娃）类，`Grandpa`（老爷爷）类，`Scorpion`（蝎子精）类，`Snake`（蛇精）类以及`Minion`（小喽啰）类的基类，其中定义他们共有的方法和属性，在布置阵法的时候，就能够把他们都看作`Creature`类的对象，体现了面向对象程序设计中的多态机制；

* 工具类(`/util`)

`CreatureFactory`类中提供了创建构成系统组成部分的生物对象的静态方法；
`WorldBuilder`类中提供了将构成系统组成部分的生物对象装配成一个完整的系统的静态方法；`HuluWorld`是整个葫芦世界的建模，是一个完整的系统，其中仅向外界提供了必要的接口;`Position`类是二维空间中位置的建模，在原来的基础上增加了该位置对象的引用；

* 阵法类(`/zhenfa`)

`Zhenfa`包中实现了题目要求的所有阵法，由于阵法是作为一种工具的存在，用户没有必要使用该类创建对象，通过限制对该类构造方法的访问来阻止这种行为，同时，阵法之间又存在着明显的继承关系，因此在对每个阵法实现的过程中采用了继承，但是又通过封装使这种继承不可见，简化了用户使用的同时又便于代码的拓展；

* 团队类(`/team`)

`Team`类中引入了泛型机制，限制了类型擦拭的边界，在维持了类的层次结构的同时提高了代码的复用率，并且提供了子类中共有的方法接口，`GoodTeam`类和`BadTeam`类是`Team`类的两个实现类，是对`HuluWorld`类更细粒度的划分，更加符合人的分类思维；

* 图形界面类(`/`)

`MainFrame`（主窗口）类，`BoardPanel`（左侧面板）类以及`FuncPanel`（右侧面板）一起组成了该程序的GUI界面，这两个面板之间存在着关联，在`FuncPanel`中创建了与用户交互的按钮，当用户按下按钮的时候，会发送消息给其关联的`BoardPanel`对象，在`BoardPanel`类中包含了一个`HuluWorld`对象，`BoardPanel`对象将消息传递给该对象，在该对象的内部完成对消息的处理，体现了面向对象中通过消息传递解决问题的机制；

## 二、设计原则

1. 阵法类依赖于抽象的`Creature`类而不是具体的某个生物类，在新增生物类的时候不需要进行代码的修改，并且阵法类中具有继承关系，新增阵法类也很方便；

2. `HuluWorld`类的出现消除了用于图形化界面展示的代码和具体的业务代码之间的紧耦合关系，`HuluWorld`类作为一个独立的系统而存在，仅向外界提供必要的接口，系统内部的组成不需要向外界暴露；

3. `CreatureFactory`类应用了简单工厂的设计模式，用工厂方法代替了传统的`new`操作，简化了生物对象的创造流程，同时缓解了生物类的使用者和具体的生物类之间的紧耦合关系；

4. `TeamBuilder`和`WorldBuilder`类中应用创建者的设计模式，`HuluWorld`是相对比较复杂的类，构造这样的一个类需要进行复杂的流程，而`Team`将来可能也会变得很复杂，这将会造成了使用者和该类之间过紧的耦合关系，通过提供构建者完成对象的创建和组装，缓解了上述的耦合关系；

5. `ImageLoader`类中提供了加载图片的方法，相比在创建对象的同时直接使用`swing`框架中加载图片消除了框架代码和业务代码之间的紧耦合关系，并且加载图片是一个相对固定的操作，统一使用自己实现的工具类将来更加容易进行扩展；

6. 通过反射机制读取注解获取配置文件的路径，通过读取配置文件的内容获取程序中的生物对象的图片资源路径，使得配置文件的路径以及图片资源的路径变动更加灵活；

## 三、功能介绍
下面介绍的是界面右侧功能区三个按钮的作用：
- 小喽啰布阵

用户点击这个按钮的时候，蝎子精会带领他的小喽啰们进行随机的排兵布阵，并且老爷爷和蛇精会呐喊助威（在功能区的面板上输出口号）；

- 葫芦娃排序

用户点击这个按钮的时候，葫芦娃之间会按照大小顺序进行排队（阵型不变），同时这个按钮上的文字变成**打乱葫芦娃**，下次点击这个按钮的时候就会打乱葫芦娃之间的顺序；

- 了解葫芦世界

查看创作者以及版本信息等；

## 四、运行截图
- 生物图片来自网络，侵权即删
![Runtime Image](https://s2.ax1x.com/2019/10/29/KfRsfK.png)

## 五、UML图片
![uml图片](https://s2.ax1x.com/2019/10/30/K4zZ5t.png)
